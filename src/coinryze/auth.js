const {webUrl}=require('../../config/app.js'),{getPhases}=require('./getPhases'),{waitForElementToDisappear}=require('./utils');let pageInstance=null;async function login(_0x25abe0,_0x2f0825){const _0x2586f4=await getPhases();try{console['log']('Starting\x20login\x20process.'),await _0x2586f4['goto'](webUrl+'/m/#/login'),console['log']('Navigated\x20to\x20login\x20page:',webUrl+'/m/#/login'),await _0x2586f4['waitForSelector']('.ldf-login'),console['log']('Login\x20form\x20loaded\x20successfully.'),await _0x2586f4['type']('input[type=\x22text\x22][placeholder=\x22Enter\x20your\x20email\x22]',_0x25abe0),console['log']('Entered\x20email:',_0x25abe0),await _0x2586f4['type']('input[type=\x22password\x22][placeholder=\x22Enter\x20your\x20password\x22]',_0x2f0825),console['log']('Entered\x20password.'),await _0x2586f4['click']('.ldf-login'),console['log']('Clicked\x20the\x20login\x20button.'),await _0x2586f4['waitForSelector']('.van-toast__text',{'timeout':0x2710});const _0x45299b=await _0x2586f4['$eval']('.van-toast__text',_0x239434=>_0x239434['textContent']);console['log']('Login\x20status\x20toast\x20message:',_0x45299b);if(_0x45299b!=='Login\x20successful')throw new Error('Login\x20failed:\x20'+_0x45299b);return await _0x2586f4['waitForSelector']('.home',{'timeout':0x7530}),console['log']('Successfully\x20navigated\x20to\x20the\x20home\x20page.'),_0x2586f4;}catch(_0x389049){console['error']('An\x20error\x20occurred\x20during\x20the\x20login\x20process:',_0x389049);throw _0x389049;}}async function getBetPage(_0x257d87,_0x5e6ae4){return!pageInstance&&(pageInstance=await login(_0x257d87,_0x5e6ae4),await pageInstance['goto'](webUrl+'/m/#/select'),await waitForElementToDisappear(pageInstance,'.van-toast'),console['log']('Navigated\x20to\x20simulation\x20and\x20ready\x20to\x20place\x20a\x20bet.','\x0a\x0a')),pageInstance;}module['exports']={'getBetPage':getBetPage};